<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoldHEN Bin Server Web Payloads</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <style>
        .ip-info {
            background: rgba(0, 255, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid rgba(0, 255, 0, 0.3);
        }
        .auto-detect {
            background: rgba(255, 165, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid rgba(255, 165, 0, 0.3);
        }
        .manual-ip {
            background: rgba(255, 0, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid rgba(255, 0, 0, 0.3);
        }
        .ip-input {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ff0000;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border-radius: 4px;
            width: 150px;
        }
        .setup-btn {
            background: rgba(255, 0, 0, 0.2);
            color: white;
            border: 1px solid #ff0000;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .setup-btn:hover {
            background: rgba(255, 0, 0, 0.3);
        }
        .detect-btn {
            background: rgba(0, 255, 0, 0.2);
            color: white;
            border: 1px solid #00ff00;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .detect-btn:hover {
            background: rgba(0, 255, 0, 0.3);
        }
        .status-good {
            color: #00ff00;
            font-weight: bold;
        }
        .status-bad {
            color: #ff0000;
            font-weight: bold;
        }
        .status-waiting {
            color: #ffff00;
            font-weight: bold;
        }
    </style>
</head>
<body onload="autoDetectIP()">
    <div class="container">
        <header class="header">
            <h1>GoldHEN Bin Server Web Payloads</h1>
            <div class="firmware-info">
                PS4 Firmware <span id="PS4fw">v0; Win64; x64 Detected</span>
            </div>
        </header>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª IP Ø§Ù„Ù…ÙƒØªØ´Ù -->
        <div class="ip-info" id="ipInfo">
            <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
            <div id="detectedIP">Ø¬Ø§Ø±ÙŠ Ø§ÙƒØªØ´Ø§Ù Ø¹Ù†ÙˆØ§Ù† IP...</div>
            <div id="connectionStatus" class="status-waiting">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø³ÙŠØ±ÙØ±...</div>
        </div>

        <!-- Ø§Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ -->
        <div class="auto-detect">
            <h3>ğŸ”„ Ø§Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</h3>
            <button class="detect-btn" onclick="autoDetectIP()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ÙƒØªØ´Ø§Ù</button>
            <button class="detect-btn" onclick="scanNetwork()">Ù…Ø³Ø­ Ø§Ù„Ø´Ø¨ÙƒØ© (Ø¨Ø·ÙŠØ¡)</button>
        </div>

        <!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙŠØ¯ÙˆÙŠ -->
        <div class="manual-ip">
            <h3>âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙŠØ¯ÙˆÙŠ</h3>
            <p>Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØŒ Ø£Ø¯Ø®Ù„ IP Ø§Ù„Ù€ PS4 ÙŠØ¯ÙˆÙŠØ§Ù‹:</p>
            <input type="text" id="manualIP" class="ip-input" placeholder="Ù…Ø«Ø§Ù„: 192.168.1.5">
            <button class="setup-btn" onclick="setManualIP()">Ø­ÙØ¸ ÙˆØªÙˆØµÙŠÙ„</button>
        </div>

        <div class="status-bar">
            <div id="msgs">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ø¶ÙŠØ±...</div>
        </div>

        <main class="main-content">
            <section class="payloads-section">
                <h2 class="section-title">PAYLOADS</h2>
                
                <div class="button-grid">
                    <button class="btn" onmouseover="updateMessage('PKG-Backup v1.3 - Modded Version Of App Dumper / 12.02 Port By Kamaleon')" onmouseout="resetMessage()" onclick="load_pkgbackup(); return false">PKG-Backup v1.3</button>
                    <button class="btn" onmouseover="updateMessage('App Dumper Only v1.8 - Original Version By xVortex / 11.00 Port Al Azif')" onmouseout="resetMessage()" onclick="load_appdumper(); return false">App Dumper Only v1.8</button>
                    <button class="btn" onmouseover="updateMessage('Disable-Updates v1.0 - 11.00 Port By Al Azif')" onmouseout="resetMessage()" onclick="load_disableupdates(); return false">Disable-Updates v1.0</button>
                    <button class="btn" onmouseover="updateMessage('Enable-Updates v1.0 - 11.00 Port By Al Azif')" onmouseout="resetMessage()" onclick="load_enableupdates(); return false">Enable-Updates v1.0</button>
                    <button class="btn" onmouseover="updateMessage('Exit IDU / 11.00 Port Al Azif')" onmouseout="resetMessage()" onclick="load_exitidu(); return false">Exit IDU</button>
                    <button class="btn" onmouseover="updateMessage('Ftp Server - Original Version By xVortex / 11.00 Port Al Azif')" onmouseout="resetMessage()" onclick="load_ftp(); return false">Ftp Server</button>
                    <button class="btn" onmouseover="updateMessage('Ps4Debug v1.1.19 - By CTN123')" onmouseout="resetMessage()" onclick="load_ps4debug(); return false">Ps4Debug v1.1.19</button>
                    <button class="btn" onmouseover="updateMessage('App-2-Usb - Original Version By Stooged / 11.00 Port By Al Azif')" onmouseout="resetMessage()" onclick="load_app2usb(); return false">App-2-Usb</button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>Devoloper By Jehad Sammak</p>
        </footer>
    </div>

    <script>
        // JavaScript functions for the interface

        // Ø§Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù€ IP
        function autoDetectIP() {
            document.getElementById('detectedIP').innerHTML = "ğŸ” Ø¬Ø§Ø±ÙŠ Ø§ÙƒØªØ´Ø§Ù Ø¹Ù†ÙˆØ§Ù† IP...";
            document.getElementById('connectionStatus').innerHTML = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...";
            document.getElementById('connectionStatus').className = "status-waiting";

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP Ù…Ù† Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ
            var currentURL = window.location.href;
            var urlIP = extractIPFromURL(currentURL);
            
            if (urlIP) {
                testIPConnection(urlIP);
                return;
            }

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø¶ÙŠÙ
            var hostname = window.location.hostname;
            if (hostname && hostname !== 'localhost' && hostname !== '127.0.0.1') {
                testIPConnection(hostname);
                return;
            }

            // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
            tryCommonIPs();
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ IP Ù…Ù† URL
        function extractIPFromURL(url) {
            var ipMatch = url.match(/\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b/);
            return ipMatch ? ipMatch[0] : null;
        }

        // ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
        function tryCommonIPs() {
            var commonIPs = [
                '192.168.1.5',
                '192.168.0.5',
                '192.168.1.10',
                '192.168.0.10',
                '192.168.1.15',
                '192.168.0.15',
                '192.168.1.20',
                '192.168.0.20'
            ];

            document.getElementById('detectedIP').innerHTML = "ğŸ” Ø¬Ø±Ø¨ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©...";

            var tested = 0;
            var found = false;

            commonIPs.forEach(function(ip) {
                setTimeout(function() {
                    if (!found) {
                        testIPConnection(ip, true);
                        tested++;
                        
                        if (tested === commonIPs.length && !found) {
                            document.getElementById('detectedIP').innerHTML = "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ PS4 ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹";
                            document.getElementById('connectionStatus').innerHTML = "âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ IP ÙŠØ¯ÙˆÙŠØ§Ù‹";
                            document.getElementById('connectionStatus').className = "status-bad";
                        }
                    }
                }, tested * 1000); // ÙØ­Øµ ÙƒÙ„ IP Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© Ù…Ù† Ø³Ø§Ø¨Ù‚Ù‡
            });
        }

        // ÙØ­Øµ Ø§ØªØµØ§Ù„ IP Ù…Ø¹ÙŠÙ†
        function testIPConnection(ip, isSilent = false) {
            if (!isSilent) {
                document.getElementById('detectedIP').innerHTML = "ğŸ” ÙØ­Øµ: " + ip;
            }

            var req = new XMLHttpRequest();
            req.open("POST", "http://" + ip + ":9090/status");
            req.timeout = 3000;

            req.ontimeout = function() {
                if (!isSilent) {
                    document.getElementById('connectionStatus').innerHTML = "âŒ Ù„Ø§ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù…Ù†: " + ip;
                    document.getElementById('connectionStatus').className = "status-bad";
                }
            };

            req.onerror = function() {
                if (!isSilent) {
                    document.getElementById('connectionStatus').innerHTML = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: " + ip;
                    document.getElementById('connectionStatus').className = "status-bad";
                }
            };

            req.onload = function() {
                try {
                    var responseJson = JSON.parse(req.responseText);
                    if (responseJson.status == "ready") {
                        localStorage.setItem("ipaddress", ip);
                        document.getElementById('detectedIP').innerHTML = "âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù PS4 Ø¹Ù„Ù‰: " + ip;
                        document.getElementById('connectionStatus').innerHTML = "âœ… Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¬Ø§Ù‡Ø² - GoldHEN Bin Server Ù…ØªØµÙ„";
                        document.getElementById('connectionStatus').className = "status-good";
                        window.foundIP = ip;
                    }
                } catch(e) {
                    if (!isSilent) {
                        document.getElementById('connectionStatus').innerHTML = "âŒ Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø© Ù…Ù†: " + ip;
                        document.getElementById('connectionStatus').className = "status-bad";
                    }
                }
            };

            req.send();
        }

        // Ù…Ø³Ø­ Ø§Ù„Ø´Ø¨ÙƒØ© (Ø¨Ø·ÙŠØ¡)
        function scanNetwork() {
            document.getElementById('detectedIP').innerHTML = "ğŸ” Ù…Ø³Ø­ Ø§Ù„Ø´Ø¨ÙƒØ© (Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¯Ù‚ÙŠÙ‚Ø©)...";
            
            var baseIP = '192.168.1.'; // ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø­Ø³Ø¨ Ø´Ø¨ÙƒØªÙƒ
            var found = false;

            for (var i = 1; i <= 254; i++) {
                if (found) break;
                
                setTimeout(function(x) {
                    return function() {
                        if (!found) {
                            var testIP = baseIP + x;
                            var req = new XMLHttpRequest();
                            req.open("POST", "http://" + testIP + ":9090/status");
                            req.timeout = 1000;

                            req.onload = function() {
                                try {
                                    var responseJson = JSON.parse(req.responseText);
                                    if (responseJson.status == "ready") {
                                        found = true;
                                        localStorage.setItem("ipaddress", testIP);
                                        document.getElementById('detectedIP').innerHTML = "âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ PS4: " + testIP;
                                        document.getElementById('connectionStatus').innerHTML = "âœ… Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¬Ø§Ù‡Ø²";
                                        document.getElementById('connectionStatus').className = "status-good";
                                        window.foundIP = testIP;
                                    }
                                } catch(e) {}
                            };

                            req.send();
                        }
                    };
                }(i), i * 50); // ØªØ£Ø®ÙŠØ± 50ms Ø¨ÙŠÙ† ÙƒÙ„ Ù…Ø­Ø§ÙˆÙ„Ø©
            }
        }

        // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙŠØ¯ÙˆÙŠ
        function setManualIP() {
            var ip = document.getElementById('manualIP').value;
            if (ip) {
                testIPConnection(ip);
            }
        }

        // Function to update the message display
        function updateMessage(message) {
            document.getElementById('msgs').innerHTML = message;
        }

        // Function to reset the message display
        function resetMessage() {
            document.getElementById('msgs').innerHTML = 'GoldHEN Bin Server Web Payloads';
        }

        // Check Cache Status
        if (!localStorage.getItem('appCacheLoaded')) {
            window.location.replace("cache.html");
        }

        // Initialization of variables
        var payloadData = "";
        var array = "";
        var PLfile = "";
        var LoadedMSG = "";

        // Functions
        function pldone() {
            document.getElementById('msgs').innerHTML = LoadedMSG;
        }

        // Function to 'Load' the payload file to be send to GoldHEN Bin Server.	
        var getPayload = function(payload, onLoadEndCallback) {
            var req = new XMLHttpRequest();
            req.open('GET', payload);
            req.send();
            req.responseType = "arraybuffer";
            req.onload = function(event) {
                if(onLoadEndCallback) onLoadEndCallback(req, event);
            };
        };

        // Function to 'Send' the payload file to GoldHEN Bin Server using Html POST method. 
        var sendPayload = function(url, data, onLoadEndCallback) {
            var req = new XMLHttpRequest();
            req.open("POST", url, true);
            req.send(data);
            req.onload = function(event) {
                if(onLoadEndCallback) onLoadEndCallback(req, event);
            };
        };

        // Payloads to be loaded over GoldHEN Bin Server method
        function LoadpayloadGoldHEN(PLfile) {
            var currentIP = localStorage.getItem("ipaddress");
            
            if (!currentIP) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ÙˆØ§Ù† PS4 Ø£ÙˆÙ„Ø§Ù‹");
                return;
            }

            document.getElementById('msgs').innerHTML = "<h1 style='font-size:25px;text-align:center;'>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„: " + PLfile + "</h1>";
            
            var req = new XMLHttpRequest(); 
            req.open("POST", "http://"+currentIP+":9090/status");
            req.timeout = 5000;
            req.send();
            
            req.ontimeout = function() {
                alert("Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨ - ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ GoldHEN");
            };
            
            req.onerror = function() {
                alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± - ØªØ£ÙƒØ¯ Ù…Ù† IP");
            };
            
            req.onload = function() {
                try {
                    var responseJson = JSON.parse(req.responseText);
                    if (responseJson.status == "ready") {
                        getPayload(PLfile, function (req) {
                            if ((req.status === 200 || req.status === 304) && req.response) {
                                sendPayload("http://" + currentIP + ":9090", req.response, function (req) {
                                    if (req.status === 200) {
                                        pldone();
                                    } else {
                                        document.getElementById('msgs').innerHTML = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„';
                                    }
                                })
                            }
                        });
                    } else {
                        alert("Ø§Ù„Ø³ÙŠØ±ÙØ± Ù…Ø´ØºÙˆÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹");
                    }
                } catch(e) {
                    alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±");
                }
            };
        }

        // Ø¨Ø§Ù‚ÙŠ Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯Ø² ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ...
        function load_pkgbackup() {
            LoadedMSG = "PKG-Backup v1.3 Loaded";
            PLfile = "pl_pkgbackup.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_appdumper() {
            LoadedMSG = "App Dumper Only v1.8 Loaded";
            PLfile = "pl_appdumper.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_disableupdates() {
            LoadedMSG = "Disable-Updates v1.0 Loaded";
            PLfile = "pl_disableupdates.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_enableupdates() {
            LoadedMSG = "Enable-Updates v1.0 Loaded";
            PLfile = "pl_enableupdates.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_exitidu() {
            LoadedMSG = "Exit IDU Loaded";
            PLfile = "pl_exitidu.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_ftp() {
            LoadedMSG = "Ftp Server Loaded";
            PLfile = "pl_ftp.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_ps4debug() {
            LoadedMSG = "Ps4Debug v1.1.19 Loaded";
            PLfile = "pl_ps4debug.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        function load_app2usb() {
            LoadedMSG = "App-2-Usb Loaded";
            PLfile = "pl_app2usb.bin";
            LoadpayloadGoldHEN(PLfile);
        }

        // Get PS4 firmware version
        var UA = navigator.userAgent.substring(navigator.userAgent.indexOf('5.0 (') + 19, navigator.userAgent.indexOf(') Apple')).replace("layStation 4/","");
        document.getElementById('PS4fw').innerHTML = "v"+UA+" Detected";
    </script>
</body>
</html>
